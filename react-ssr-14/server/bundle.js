!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=33)}([function(t,e){t.exports=require("react")},function(t,e){t.exports=require("redux")},function(t,e){t.exports=require("react-redux")},function(t,e){t.exports=require("@babel/runtime/helpers/objectSpread")},function(t,e){t.exports=require("@babel/runtime/helpers/classCallCheck")},function(t,e){t.exports=require("@babel/runtime/helpers/createClass")},function(t,e){t.exports=require("@babel/runtime/helpers/possibleConstructorReturn")},function(t,e){t.exports=require("@babel/runtime/helpers/getPrototypeOf")},function(t,e){t.exports=require("@babel/runtime/helpers/inherits")},function(t,e){t.exports=require("react-router-dom")},function(t,e){t.exports=require("antd")},function(t,e,n){"use strict";var r=a(n(22)),o=a(n(23));function a(t){return t&&t.__esModule?t:{default:t}}var i="s",u={};t.exports=function(t){for(var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.replace,c=void 0!==a&&a,s=n.prepend,l=void 0!==s&&s,d=[],f=0;f<t.length;f++){var p=(0,o.default)(t[f],4),h=p[0],g=p[1],m=p[2],v=p[3],x=h+"-"+f;if(d.push(x),!u[x]||c){u[x]=1;var b=document.getElementById(i+x),y=!1;b||(y=!0,(b=document.createElement("style")).setAttribute("type","text/css"),b.id=i+x,m&&b.setAttribute("media",m));var E=g;v&&"function"==typeof btoa&&(E+="\n/*# sourceMappingURL=data:application/json;base64,"+(e=(0,r.default)(v),btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(t,e){return String.fromCharCode("0x"+e)})))+"*/",E+="\n/*# sourceURL="+v.file+"?"+x+"*/"),"textContent"in b?b.textContent=E:b.styleSheet.cssText=E,y&&(l?document.head.insertBefore(b,document.head.childNodes[0]):document.head.appendChild(b))}else u[x]++}return function(t){t.forEach(function(t){if(--u[t]<=0){var e=document.getElementById(i+t);e&&e.parentNode.removeChild(e)}})}.bind(null,d)}},function(t,e){t.exports=require("react-router-config")},function(t,e){t.exports=require("express")},function(t,e){t.exports=require("axios")},function(t,e){t.exports=require("react-mixin")},function(t,e){t.exports=require("redux-thunk")},function(t,e){t.exports=require("express-http-proxy")},function(t,e){t.exports=require("react-dom/server")},function(t,e){t.exports=require("antd/lib/locale-provider/zh_CN")},function(t,e,n){var r=n(21),o=n(11);"string"==typeof r&&(r=[[t.i,r,""]]),t.exports=r.locals||{},t.exports._getContent=function(){return r},t.exports._getCss=function(){return r.toString()},t.exports._insertCss=function(t){return o(r,t)}},function(t,e,n){},function(t,e){t.exports=require("babel-runtime/core-js/json/stringify")},function(t,e){t.exports=require("babel-runtime/helpers/slicedToArray")},function(t,e,n){var r=n(25),o=n(11);"string"==typeof r&&(r=[[t.i,r,""]]),t.exports=r.locals||{},t.exports._getContent=function(){return r},t.exports._getCss=function(){return r.toString()},t.exports._insertCss=function(t){return o(r,t)}},function(t,e,n){},function(t,e,n){var r=n(27),o=n(11);"string"==typeof r&&(r=[[t.i,r,""]]),t.exports=r.locals||{},t.exports._getContent=function(){return r},t.exports._getCss=function(){return r.toString()},t.exports._insertCss=function(t){return o(r,t)}},function(t,e,n){},function(t,e,n){var r=n(29),o=n(11);"string"==typeof r&&(r=[[t.i,r,""]]),t.exports=r.locals||{},t.exports._getContent=function(){return r},t.exports._getCss=function(){return r.toString()},t.exports._insertCss=function(t){return o(r,t)}},function(t,e,n){},function(t,e,n){t.exports=n.p+"status/images/bg.jpeg?55db3d9"},function(t,e,n){var r=n(32),o=n(11);"string"==typeof r&&(r=[[t.i,r,""]]),t.exports=r.locals||{},t.exports._getContent=function(){return r},t.exports._getCss=function(){return r.toString()},t.exports._insertCss=function(t){return o(r,t)}},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"CHANGE_HOME_LIST",function(){return D}),n.d(r,"changeList",function(){return N}),n.d(r,"getHomeList",function(){return R});var o={};n.r(o),n.d(o,"CHANGELOGIN",function(){return q}),n.d(o,"changeLogin",function(){return A}),n.d(o,"getHeaderInfo",function(){return k}),n.d(o,"handleLogin",function(){return P}),n.d(o,"handleLogout",function(){return H});var a={};n.r(a),n.d(a,"CHANGE_TRANSLATION_LIST",function(){return M}),n.d(a,"changeTranslationList",function(){return w}),n.d(a,"getTranslationList",function(){return U});var i={};n.r(i),n.d(i,"isServer",function(){return ot});var u={};n.r(u),n.d(u,"getBasicUrl",function(){return at});var c={};n.r(c),n.d(c,"utils",function(){return it}),n.d(c,"config",function(){return ut});var s,l=n(13),d=n.n(l),f=n(17),p=n.n(f),h=n(0),g=n.n(h),m=n(18),v=n(9),x=n(12),b=n(2),y=n(10),E=n(19),C=n.n(E),_=n(1),O=n(16),j=n.n(O),L=n(3),S=n.n(L),D="CHANGE_HOME_LIST",N=function(t){return{type:D,data:t}},R=function(){return function(t,e,n){return n.get("/api/news.json").then(function(e){var n=e.data.data;t(N(n))})}},T={list:[]},q="HEADER/CHANGE_LOGIN",A=function(t){return{type:q,data:t}},k=function(){return function(t,e,n){return n.get("/api/isLogin.json").then(function(e){t(A(e.data.data))})}},P=function(){return function(t,e,n){return n.get("/api/login.json").then(function(e){console.log(e.data.data),e.data.data.login&&t(A({login:!0}))})}},H=function(){return function(t,e,n){return n.get("/api/logout.json").then(function(e){console.log(e.data.data),e.data.data.logout&&t(A({login:!1}))})}},I={login:!0},M="CHANGE_TRANSLATION_LIST",w=function(t){return{type:M,data:t}},U=function(){return function(t,e,n){return n.get("/api/translations.json").then(function(e){console.log(e.data.data),e.data.success?t(w(e.data.data)):t(w([]))})}},G={translationlist:[]},B=Object(_.combineReducers)({homeReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case D:return S()({},t,{list:e.data});default:return t}},headerReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case q:return S()({},t,e.data);default:return t}},translationReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case M:return S()({},t,{translationlist:e.data});default:return t}}}),F=n(14),W=n.n(F),z=function(t){return Object(_.createStore)(B,Object(_.compose)(Object(_.applyMiddleware)(j.a.withExtraArgument(function(t){return W.a.create({baseURL:"http://47.95.113.63/ssr",headers:{cookie:t.get("cookie")||""},params:{secret:"PP87ANTIPIRATE"}})}(t)))))},J=n(4),Y=n.n(J),K=n(5),Q=n.n(K),V=n(6),X=n.n(V),Z=n(7),$=n.n(Z),tt=n(8),et=n.n(tt),nt=n(15),rt=n.n(nt),ot=function(){var t=!0;try{window&&(t=!1)}catch(e){t=!0}return t},at=function(){},it=i,ut=u,ct=function(){return{getDefaultProps:function(){return{_Global:c}},componentWillMount:function(){},componentDidMount:function(){},componentWillUnmount:function(){}}},st=(n(20),Object(b.connect)(function(t){return{login:t.headerReducer.login}},S()({},o))(s=rt.a.decorate(ct())(s=function(t){function e(t){var n;return Y()(this,e),(n=X()(this,$()(e).call(this,t))).state={},n}return et()(e,t),Q()(e,[{key:"render",value:function(){var t=this.props,e=t.login,n=t.handleLogin,r=t.handleLogout;return g.a.createElement("div",{className:"Header"},g.a.createElement(v.Link,{to:"/home"},"首页"),"---",e?g.a.createElement(g.a.Fragment,null,g.a.createElement(v.Link,{to:"/translation"},"翻译列表"),"---",g.a.createElement("span",{onClick:r},"退出")):g.a.createElement("span",{onClick:n},"登陆"))}}]),e}(g.a.Component))||s)||s),lt=(n(24),function(t){return g.a.createElement("div",null,g.a.createElement(st,null),Object(x.renderRoutes)(t.route.routes))});lt.loadData=function(t){return t.dispatch(o.getHeaderInfo())};var dt,ft=lt,pt=(n(26),n(28),Object(b.connect)(function(t){return{list:t.homeReducer.list}},r)(dt=rt.a.decorate(ct())(dt=function(t){function e(t){var n;return Y()(this,e),(n=X()(this,$()(e).call(this,t))).state={},n}return et()(e,t),Q()(e,[{key:"componentDidMount",value:function(){0===this.props.list.length&&this.props.getHomeList()}},{key:"render",value:function(){return g.a.createElement("div",{className:"Home HomeText"},this.props.list.map(function(t,e){return g.a.createElement("p",{key:e},t.title)}),g.a.createElement("div",null,g.a.createElement(y.Button,{type:"primary"},"Primary"),g.a.createElement(y.Button,null,"Default"),g.a.createElement(y.Button,{type:"dashed"},"Dashed"),g.a.createElement(y.Button,{type:"danger"},"Danger")),g.a.createElement("img",{src:n(30),alt:"背景"}))}}]),e}(g.a.Component))||dt)||dt);pt.loadData=function(t){return t.dispatch(r.getHomeList())};var ht,gt=pt,mt=(n(31),Object(b.connect)(function(t){return{list:t.translationReducer.translationlist,login:t.headerReducer.login}},a)(ht=function(t){function e(t){var n;return Y()(this,e),(n=X()(this,$()(e).call(this,t))).state={name:"Translation"},n}return et()(e,t),Q()(e,[{key:"componentDidMount",value:function(){0===this.props.list.length&&this.props.getTranslationList()}},{key:"render",value:function(){return this.props.login?g.a.createElement("div",{className:"Translation"},g.a.createElement("h5",null,this.state.name),this.props.list.map(function(t,e){return g.a.createElement("p",{key:e},t.title)})):g.a.createElement(v.Redirect,{to:"/"})}}]),e}(g.a.Component))||ht);mt.loadData=function(t){return t.dispatch(a.getTranslationList())};var vt=mt,xt=function(t){function e(t){var n;return Y()(this,e),(n=X()(this,$()(e).call(this,t))).state={},n}return et()(e,t),Q()(e,[{key:"componentWillMount",value:function(){this.props.staticContext&&(this.props.staticContext.NOT_FOUND=!0)}},{key:"render",value:function(){return g.a.createElement("div",null,"NotFound")}}]),e}(g.a.Component),bt=[{path:"/",component:ft,loadData:ft.loadData,routes:[{path:"/",component:gt,exact:!0,loadData:gt.loadData},{path:"/home",component:gt,exact:!0,loadData:gt.loadData},{path:"/translation",component:vt,exact:!0,loadData:vt.loadData},{component:xt}]}],yt={proxyUrl:"http://47.95.113.63"},Et=d()();Et.use(d.a.static("public")),Et.use("/client",d.a.static("client")),Et.use("/status",d.a.static("server/status")),Et.use("/api",p()(yt.proxyUrl,{proxyReqPathResolver:function(t){return"/ssr/api".concat(t.url)}})),Et.get("*",function(t,e){!function(t,e){var n=z(t),r=Object(x.matchRoutes)(bt,t.path),o=[];r.forEach(function(t){if(t.route.loadData){var e=new Promise(function(e){t.route.loadData(n).then(e).catch(e)});o.push(e)}}),Promise.all(o).then(function(){console.log(n.getState());var r={},o=Object(m.renderToString)(g.a.createElement(y.LocaleProvider,{locale:C.a},g.a.createElement(b.Provider,{store:n},g.a.createElement(v.StaticRouter,{location:t.url,context:r},Object(x.renderRoutes)(bt))))),a="";a='<link href="/status/css/main.css?v='.concat(1*new Date,'" rel="stylesheet">');var i="\n                    <!DOCTYPE html>\n                    <html>\n                        <head>\n                            <title>react</title>\n                            ".concat(a,'\n                        </head>\n                        <body>\n                            <div id="root">').concat(o,"</div>\n                            <script>\n                                window._context = {\n                                    state: ").concat(JSON.stringify(n.getState()),'\n                                }\n                            <\/script>\n                            <script src="/client/index.js"><\/script>\n                        </body>\n                    </html>\n                    ');console.log(r),"REPLACE"===r.action?e.redirect(301,r.url):r.NOT_FOUND?(e.status(404),e.send(i)):e.send(i)})}(t,e)});var Ct=Et.listen("9013",function(){var t=Ct.address().address,e=Ct.address().port;console.log("启动 ".concat("prod"," 环境，应用实例，访问地址为 http://%s:%s"),t,e)})}]);
//# sourceMappingURL=bundle.js.map