{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.js","webpack:///./src/client/axios.js","webpack:///./src/components/Header/index.js","webpack:///./src/components/Header/store/actions.js","webpack:///./src/components/Header/store/index.js","webpack:///./src/components/Header/store/reducer.js","webpack:///./src/containers/Home/index.js","webpack:///./src/containers/Home/store/actions.js","webpack:///./src/containers/Home/store/index.js","webpack:///./src/containers/Home/store/reducer.js","webpack:///./src/containers/NotFound/index.js","webpack:///./src/containers/Translation/index.js","webpack:///./src/containers/Translation/store/actions.js","webpack:///./src/containers/Translation/store/index.js","webpack:///./src/containers/Translation/store/reducer.js","webpack:///./src/routes/index.js","webpack:///./src/server/axios.js","webpack:///./src/server/index.js","webpack:///./src/server/root.js","webpack:///./src/store/index.js","webpack:///./src/store/reducers.js","webpack:///external \"axios\"","webpack:///external \"express\"","webpack:///external \"express-http-proxy\"","webpack:///external \"react\"","webpack:///external \"react-dom/server\"","webpack:///external \"react-redux\"","webpack:///external \"react-router-config\"","webpack:///external \"react-router-dom\"","webpack:///external \"redux\"","webpack:///external \"redux-thunk\""],"names":["App","props","route","routes","loadData","store","dispatch","actions","getHeaderInfo","axios","create","baseURL","params","secret","Header","login","state","headerReducer","handleLogin","handleLogout","React","Component","CHANGELOGIN","changeLogin","data","type","getState","get","then","res","console","log","logout","reducer","defaultState","action","Home","list","homeReducer","length","getHomeList","map","item","index","title","CHANGE_HOME_LIST","changeList","NotFound","staticContext","NOT_FOUND","Translation","translationReducer","translationlist","name","getTranslationList","CHANGE_TRANSLATION_LIST","changeTranslationList","success","path","component","exact","req","headers","cookie","app","use","express","static","proxyReqPathResolver","url","server","listen","host","address","port","matchedRoutes","promises","forEach","promise","Promise","resolve","reject","catch","push","all","context","content","html","JSON","stringify","redirect","status","send","createServerStore","reducers","thunk","withExtraArgument","createClientStore","defaultStore","window","_context"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/server/index.js\");\n","import React from 'react';\r\nimport { renderRoutes } from 'react-router-config';\r\nimport Header from './components/Header';\r\nimport { actions } from './components/Header/store';\r\n\r\nconst App = (props) => {\r\n    return (\r\n        <div>\r\n            <Header />\r\n            {renderRoutes(props.route.routes)}\r\n        </div>\r\n    )\r\n}\r\n\r\nApp.loadData = (store) => {\r\n    return store.dispatch(actions.getHeaderInfo());\r\n}\r\n\r\nexport default App;\r\n","import axios from 'axios';\r\n\r\n// 创建实例时修改配置\r\n// var instance = axios.create({\r\n//     baseURL: ''\r\n// });\r\n\r\nexport default () => axios.create({\r\n    baseURL: '',\r\n    params: {\r\n        secret: 'M5s2sPneDE'\r\n    }\r\n});\r\n","import React from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from 'react-redux';\r\nimport { actions } from './store';\r\n\r\n@connect(\r\n    state => ({ login: state.headerReducer.login }),\r\n    { ...actions }\r\n)\r\nclass Header extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    render() {\r\n        let { login, handleLogin, handleLogout } = this.props;\r\n        return (\r\n            <div>\r\n                <Link to=\"/home\">首页</Link>---\r\n                {\r\n                    login ? <React.Fragment>\r\n                        <Link to=\"/translation\">翻译列表</Link>---\r\n                                <span onClick={handleLogout}>退出</span>\r\n                    </React.Fragment> :\r\n                        <span onClick={handleLogin}>登陆</span>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Header;\r\n","export const CHANGELOGIN = 'HEADER/CHANGE_LOGIN';\r\n\r\nexport const changeLogin = (data) => ({\r\n    type: CHANGELOGIN,\r\n    data\r\n})\r\n\r\nexport const getHeaderInfo = () => {\r\n    return (dispatch, getState, axios) => {\r\n        return axios.get('/api/isLogin.json').then((res) => {\r\n            dispatch(changeLogin(res.data.data));\r\n        });\r\n    }\r\n}\r\n\r\nexport const handleLogin = () => {\r\n    return (dispatch, getState, axios) => {\r\n        return axios.get('/api/login.json').then((res) => {\r\n            console.log(res.data.data);\r\n            if (res.data.data.login) {\r\n                dispatch(changeLogin({\r\n                    login: true\r\n                }));\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nexport const handleLogout = () => {\r\n    return (dispatch, getState, axios) => {\r\n        return axios.get('/api/logout.json').then((res) => {\r\n            console.log(res.data.data);\r\n            if (res.data.data.logout) {\r\n                dispatch(changeLogin({\r\n                    login: false\r\n                }));\r\n            }\r\n        });\r\n    }\r\n}\r\n","import reducer from './reducer';\r\nimport * as actions from './actions';\r\n\r\nexport { reducer, actions }\r\n","import { CHANGELOGIN } from './actions'\r\nconst defaultState = {\r\n    login: true\r\n}\r\nexport default (state = defaultState, action) => {\r\n    switch (action.type) {\r\n        case CHANGELOGIN:\r\n            return {\r\n                ...state,\r\n                ...action.data\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n// import { getHomeList } from './store/actions';\r\nimport { actions } from './store';\r\n\r\n// @connect(\r\n//   state => ({ list: state.homeReducer.list }),\r\n//   dispatch => ({\r\n//     getHomeList() {\r\n//       dispatch(getHomeList());\r\n//     }\r\n//   }),\r\n// )\r\n@connect(\r\n  state => ({ list: state.homeReducer.list }),\r\n  actions\r\n)\r\nclass Home extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n  // 只在客户端执行\r\n  componentDidMount() {\r\n    // 当在浏览器渲染的时候，只有数据不存在事执行获取\r\n    if (this.props.list.length === 0) {\r\n      this.props.getHomeList();\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        {\r\n          this.props.list.map((item, index) => (<p key={index}>{item.title}</p>))\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// https://reacttraining.com/react-router/web/guides/server-rendering\r\nHome.loadData = (store) => {\r\n  // 负责页面渲染之前，在路由数据提前加载好\r\n  // 把action 内 返回的 Promise 在返回出去，执行多个用 Promise.all 处理\r\n  return store.dispatch(actions.getHomeList());\r\n}\r\n\r\nexport default Home;\r\n","export const CHANGE_HOME_LIST = 'CHANGE_HOME_LIST';\r\n\r\nexport const changeList = (data) => ({\r\n    type: CHANGE_HOME_LIST,\r\n    data\r\n})\r\n\r\n\r\nexport const getHomeList = () => {\r\n    return (dispatch, getState, axios) => {\r\n        // 返回 Promise 对象，在服务端执行\r\n        // 代理前地址： http://47.95.113.63/ssr/api/news.json\r\n        // 浏览器渲染请求的地址： http://localhost:8081/api/news.json\r\n        // 服务端渲染请求的地址： /api/news.json\r\n        // let url = '';\r\n        // if (server) {\r\n        //     url = 'http://47.95.113.63/ssr/api/news.json'\r\n        // } else {\r\n        //     url = '/api/news.json'\r\n        // }\r\n\r\n        // 问题：在服务端渲染的时候这个文件找不到会报错，因此服务端渲染时要请求后端完整路径\r\n        //       http://47.95.113.63/ssr/api/news.json\r\n        return axios.get('/api/news.json').then((res) => {\r\n            let list = res.data.data;\r\n            dispatch(changeList(list));\r\n        });\r\n    }\r\n}\r\n","import reducer from './reducer';\r\nimport * as actions from './actions';\r\n\r\nexport { reducer, actions };\r\n","import { CHANGE_HOME_LIST } from './actions';\r\n\r\nconst defaultState = {\r\n    list: []\r\n}\r\n// reducer 接收 action 派发\r\nexport default (state = defaultState, action) => {\r\n    switch (action.type) {\r\n        case CHANGE_HOME_LIST:\r\n            return {\r\n                ...state,\r\n                list: action.data\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","import React from 'react';\r\n\r\nclass NotFound extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    componentWillMount() {\r\n        this.props.staticContext && (this.props.staticContext.NOT_FOUND = true);\r\n    }\r\n    render() {\r\n        return (\r\n            <div>NotFound</div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default NotFound;\r\n","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { actions } from './store';\r\n\r\n@connect(\r\n    state => ({ \r\n        list: state.translationReducer.translationlist,\r\n        login: state.headerReducer.login\r\n    }),\r\n    actions\r\n)\r\nclass Translation extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            name: 'Translation',\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        // 当在浏览器渲染的时候，只有数据不存在事执行获取\r\n        if (this.props.list.length === 0) {\r\n          this.props.getTranslationList();\r\n        }\r\n      }\r\n    render() {\r\n        let { login } = this.props;\r\n        return (\r\n            login ? <div>\r\n                <h5>{this.state.name}</h5>\r\n                {\r\n                    this.props.list.map((item, index) => (<p key={index}>{item.title}</p>))\r\n                }\r\n            </div> : <Redirect to='/'/>\r\n        );\r\n    }\r\n}\r\n\r\nTranslation.loadData = (store) => {\r\n    return store.dispatch(actions.getTranslationList());\r\n}\r\n\r\nexport default Translation;\r\n","export const CHANGE_TRANSLATION_LIST = 'CHANGE_TRANSLATION_LIST';\r\n\r\nexport const changeTranslationList = (data) => ({\r\n    type: CHANGE_TRANSLATION_LIST,\r\n    data\r\n})\r\n\r\nexport const getTranslationList = () => {\r\n    return (dispatch, getState, axios) => {\r\n        return axios.get('/api/translations.json').then((res) => {\r\n            console.log(res.data.data);\r\n            if (res.data.success) {\r\n                dispatch(changeTranslationList(res.data.data))\r\n            } else {\r\n                dispatch(changeTranslationList([]))\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n","import reducer from './reducer';\r\nimport * as actions from './actions';\r\n\r\nexport { reducer, actions }\r\n","import { CHANGE_TRANSLATION_LIST } from './actions'\r\nconst defaultState = {\r\n    translationlist: []\r\n}\r\nexport default (state = defaultState, action) => {\r\n    switch (action.type) {\r\n        case CHANGE_TRANSLATION_LIST:\r\n            return {\r\n                ...state,\r\n                translationlist: action.data\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","import App from '../App';\r\nimport Home from '../containers/Home';\r\nimport Translation from '../containers/Translation';\r\nimport NotFound from '../containers/NotFound';\r\n\r\n// export default [\r\n//     {\r\n//         path: '/',\r\n//         component: Home,\r\n//         exact: true, // 表示路由精确匹配\r\n//         loadData: Home.loadData\r\n//     },\r\n//     {\r\n//         path: '/home',\r\n//         component: Home,\r\n//         loadData: Home.loadData\r\n//     },\r\n//     {\r\n//         path: '/login',\r\n//         component: Login\r\n//     }\r\n// ]\r\n\r\nexport default [\r\n    {\r\n        path: '/',\r\n        component: App,\r\n        loadData: App.loadData,\r\n        routes: [\r\n            {\r\n                path: '/',\r\n                component: Home,\r\n                exact: true, // 表示路由精确匹配\r\n                loadData: Home.loadData\r\n            },\r\n            {\r\n                path: '/home',\r\n                component: Home,\r\n                exact: true,\r\n                loadData: Home.loadData\r\n            },\r\n            {\r\n                path: '/translation',\r\n                component: Translation,\r\n                exact: true,\r\n                loadData: Translation.loadData\r\n            },\r\n            {\r\n                // path: '/translation',\r\n                component: NotFound,\r\n                // exact: true\r\n            }\r\n        ]\r\n    }\r\n]\r\n","import axios from 'axios';\r\n\r\n// 创建实例时修改配置\r\n// var instance = axios.create({\r\n//     baseURL: 'http://47.95.113.63/ssr'\r\n// });\r\n\r\nexport default (req) => axios.create({\r\n    baseURL: 'http://47.95.113.63/ssr',\r\n    headers: {\r\n        cookie: req.get('cookie') || '' //添加支持cookie转发\r\n    },\r\n    params: {\r\n        secret: 'M5s2sPneDE'\r\n    }\r\n});\r\n","import Root from './root';\r\nimport express from 'express';\r\nimport proxy from 'express-http-proxy';\r\nvar app = express();\r\napp.use(express.static('public'));\r\napp.use('/client', express.static('client'));\r\n// 代理浏览器接口请求\r\napp.use('/api', proxy('http://47.95.113.63', {\r\n    proxyReqPathResolver: function (req) {\r\n        // req.url: /news.json\r\n        // http://47.95.113.63/ssr/api/news.json\r\n        return '/ssr/api' + req.url\r\n    }\r\n}));\r\n\r\napp.get('*', function (req, res) {\r\n    Root(req, res);\r\n})\r\n\r\nvar server = app.listen(8081, function () {\r\n    var host = server.address().address\r\n    var port = server.address().port\r\n    console.log(\"应用实例，访问地址为 http://%s:%s\", host, port)\r\n})\r\n","import React from 'react';\r\nimport { renderToString } from 'react-dom/server';\r\nimport { StaticRouter } from 'react-router-dom'; // matchPath： 只能匹配到一层路由，不能匹配到多级路由\r\nimport { matchRoutes, renderRoutes } from 'react-router-config';\r\nimport { Provider } from 'react-redux';\r\nimport { createServerStore } from '../store';\r\nimport routes from '../routes';\r\n\r\nexport default (req, res) => {\r\n    const store = createServerStore(req);\r\n    // const promises = []\r\n    // routes.some(route => {\r\n    //     // 使用 matchPath 方法，匹配路由对应要展示的页面组件\r\n    //     const match = matchPath(req.path, route);\r\n    //     if (match) {\r\n    //         promises.push(match);\r\n    //     }\r\n    //     return match;\r\n    // })\r\n    // console.log(promises);\r\n\r\n    // 通过 matchRoutes 能匹配到路由的多级嵌套页面组件\r\n    const matchedRoutes = matchRoutes(routes, req.path);\r\n    let promises = [];\r\n    // 执行 promises 内组件的 loadData 方法，获取数据\r\n    matchedRoutes.forEach(item => {\r\n        // 调用加载数据方法\r\n        if (item.route.loadData) {\r\n            // 把返回的 Promise 添加到数组中\r\n            // promises.push(item.route.loadData(store));\r\n            // 问题，当有一个接口出现异常，使 Promise.all 方法的不到调用，页面就渲染不了。解决即使有一个接口异常也能完整打开页面\r\n            const promise = new Promise((resolve, reject) => {\r\n                // 捕获异常，也调用resolve\r\n                item.route.loadData(store).then(resolve).catch(resolve);\r\n            });\r\n            // 在puhs自定义 promise\r\n            promises.push(promise);\r\n        }\r\n    })\r\n\r\n    // 打印出来的数据时默认值，因为ajax是异步，必须等待请求执行完成，在打印\r\n    // console.log(store.getState());\r\n\r\n    // 等到所有的 Promise 都执行成功，在去渲染页面\r\n    Promise.all(promises).then(() => {\r\n        // 打印出来的数据是有值的，说明组件提前要加载的数据成功\r\n        console.log(store.getState());\r\n\r\n        // 404页面的核心技术点\r\n        let context = {};\r\n        // 301 服务端重定向的实现\r\n        // 发现使用了Redirect, StaticRouter会自动向context注入重定向内容\r\n\r\n        let content = renderToString(\r\n            <Provider store={store}>\r\n                <StaticRouter location={req.url} context={context}>\r\n                    {renderRoutes(routes)}\r\n                </StaticRouter>\r\n            </Provider>\r\n        )\r\n\r\n        let html = `\r\n                    <!DOCTYPE html>\r\n                    <html>\r\n                        <head>\r\n                            <title>react</title>\r\n                        </head>\r\n                        <body>\r\n                            <div id=\"root\">${content}</div>\r\n                            <script>\r\n                                window._context = {\r\n                                    state: ${JSON.stringify(store.getState())}\r\n                                }\r\n                            </script>\r\n                            <script src=\"/client/index.js\"></script>\r\n                        </body>\r\n                    </html>\r\n                    `;\r\n        console.log(context);\r\n        if (context.action === 'REPLACE') { // 304重定向\r\n            res.redirect(301, context.url);\r\n        } else if (context.NOT_FOUND) { // 访问不存在的页面返回404状态码\r\n            res.status(404);\r\n            res.send(html);\r\n        } else {\r\n            res.send(html);\r\n        }\r\n    })\r\n};\r\n","import { createStore, compose, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport reducers from './reducers';\r\nimport serverAxios from '../server/axios';\r\nimport clientAxios from '../client/axios';\r\n\r\n// export default () => {\r\n//     const store = createStore(reducers, compose(\r\n//         applyMiddleware(thunk)\r\n//     ));\r\n//     return store;\r\n// }\r\n\r\nexport const createServerStore = (req) => {\r\n    const store = createStore(reducers, compose(\r\n        applyMiddleware(thunk.withExtraArgument(serverAxios(req)))\r\n    ));\r\n    return store;\r\n}\r\n\r\nexport const createClientStore = () => {\r\n    // 把服务端返回的数据，做为客户端默认数据使用。客户端的数据和服务器端的数据一致\r\n    // 实现数据注水和脱水\r\n    const defaultStore = window._context.state;\r\n    const store = createStore(reducers, defaultStore, compose(\r\n        applyMiddleware(thunk.withExtraArgument(clientAxios()))\r\n    ));\r\n    return store;\r\n}\r\n","import { combineReducers } from 'redux';\r\nimport { reducer as homeReducer } from '../containers/Home/store';\r\nimport { reducer as headerReducer } from '../components/Header/store';\r\nimport { reducer as translationReducer } from '../containers/Translation/store';\r\n\r\n// 合并系统全部Reducer\r\nexport default combineReducers({\r\n    homeReducer,\r\n    headerReducer,\r\n    translationReducer\r\n});\r\n","module.exports = require(\"axios\");","module.exports = require(\"express\");","module.exports = require(\"express-http-proxy\");","module.exports = require(\"react\");","module.exports = require(\"react-dom/server\");","module.exports = require(\"react-redux\");","module.exports = require(\"react-router-config\");","module.exports = require(\"react-router-dom\");","module.exports = require(\"redux\");","module.exports = require(\"redux-thunk\");"],"sourceRoot":""}